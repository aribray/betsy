
<% if @product.errors.any? %>
  <ul class="errors">
    <% @product.errors.each do |column, message| %>
      <li>
        <strong><%= column.capitalize %></strong> <%= message %>
      </li>
    <% end %>
  </ul>
<% end %>

<section>
  <%= form_with model: @product do |f| %>
    <div class="form-group">
      <%= f.label :name %>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :description %>
      <%= f.text_field :description, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :price %>
      <%= f.text_field :price, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :quantity %>
      <%= f.text_field :quantity, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :photo_url %>
      <%= f.text_field :photo_url, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :category %>
      <%= f.collection_select(:category, Category.all, :id, :name, {:prompt => "select all related categories "}, {:multiple => true})%>
    </div>
    <div class="form-group">
      <%= f.fields_for :categories do |h| %>
        <%= h.label :new_category %>
        <%=h.text_field :name, :include_blank => false%>
        <%end%>
    </div>
    <div class="form-group">
      <%= f.submit class: "btn btn-primary" %>
    </div>
  <% end %>
</section>
